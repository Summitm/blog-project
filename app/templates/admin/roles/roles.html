{% import "bootstrap/utils.html" as utils %}
{% extends 'base.html' %}
{% block title %}Dahboard{% endblock %}

{% block body %}

	<div class="container">
		<div class="row align-items-center">
			<div class="col-lg-12">
				<div class="text-center">
					<br/>
					{{ utils.flashed_messages() }}
					<br/>
					<h1 style="text-align: center;">Roles</h1>
					<hr class="intro-divider">

					{% if roles %}
					<table class="table table-striped table-bordered table-responsive-sm">
						<thead>
							<tr>
								<th scope="col">Name</th>
								<th scope="col">Description</th>
								<th scope="col">Count</th>
								<th scope="col">Edit</th>
								<th scope="col">Delete</th>
							</tr>
						</thead>
						<tbody>
							{% for role in roles %}
							<tr>
								<td>
									{{ role.name }}
								</td>
								<td>
									{{ role.description }}
								</td>
								<td>
									{% if roles.bloggers %}
										{{ role.bloggers.count() }}
									{% else %}
										0
									{% endif %}
								</td>
								<td>
									<a href="{{ url_for('admin.edit_roles', id=role.id) }}">
										<i class="fa fa-pencil-alt"></i>
									</a>
								</td>
								<td>
									<a href="{{ url_for('admin.delete_roles', id=role.id) }}">
										<i class="fa fa-trash"></i>
									</a>
								</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
				<div class="text-center">
					<div class="text-center">
					{% else %}
						<h4>No roles have been added</h4>
						<hr class="intro-divider">
					{% endif %}
						<a class="btn btn-default btn-lg" href="{{ url_for('admin.add_roles') }}">
							<i class="fa fa-plus"></i>Add Role
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}