{% import "bootstrap/utils.html" as utils %}
{% extends 'base.html' %}
{% block title %}Dahboard{% endblock %}

{% block body %}

	<div class="container">
		<div class="row align-items-center">
			<div class="col-lg-12">
				<div class="text-center">
					<br/>
					{{ utils.flashed_messages(messages) }}
					<br/>
					<h1 style="text-align: center;">Blog Posts</h1>
					<hr class="intro-divider">
					{% if posts %}
					<table class="table table-striped table-bordered">
						<thead>
							<tr>
								<th scope="col">Title</th>
								<th scope="col">Body</th>
								<th scope="col">Author</th>
								<th scope="col">Created on</th>
								<th scope="col">Edit</th>
								<th scope="col">Delete</th>
							</tr>
						</thead>
						<tbody>
							{% for post in posts %}
							<tr>
								<td>
									{{ post.title }}
								</td>
								<td>
									{{ post.post_body }}
								</td>
								<td>
									{% if post.blogger %}
										{{ post.blogger.username }}
									{% else %}
										None
									{% endif %}
								</td>
								<td>
									{{post.created_on}}
								</td>
								<td>
									<a href="{{ url_for('admin.edit_posts', id=post.id) }}">
										<i class="fa fa-pencil"></i>
									</a>
								</td>
								<td>
									<a href="{{ url_for('admin.delete_posts', id=post.id) }}">
										<i class="fa fa-trash"></i>
									</a>
								</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
				<div>
					{% else %}
					<div>
						<h4>No Posts Added</h4>
					{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}